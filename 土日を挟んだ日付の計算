import datetime

def calculate_previous_date(date_str):
    # 入力の日付をdatetimeオブジェクトに変換
    current_date = datetime.datetime.strptime(date_str, '%Y-%m-%d').date()
    # 1日前を計算
    previous_date = current_date - datetime.timedelta(days=1)

    # 1日前の日付が土曜日または日曜日の場合
    if previous_date.weekday() in (5, 6):  # 5: 土曜日, 6: 日曜日
        # 金曜日まで戻る
        offset = previous_date.weekday() - 4  # 4: 金曜日
        previous_date -= datetime.timedelta(days=offset)

    return previous_date

# 使用例
input_date = "2025-01-27"  # 入力の日付
result = calculate_previous_date(input_date)
print(f"計算結果: {result}")
